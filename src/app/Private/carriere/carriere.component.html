<p-toolbar>
  <ng-template pTemplate="left">
    <p-button label="Ajouter" icon="pi pi-plus" (click)="handleAddAction()" class="mr-2"></p-button>
  </ng-template>
  <ng-template pTemplate="right">
   <div class="my-2">
     <h4>Personnels</h4>
   </div>
  </ng-template>
</p-toolbar>
<hr>
 <div class="card">
  <!-- <div class="card-header">Liste des agents</div> -->
  <div class="input-group">
    <label class="input-group-text">Filtrer</label>
    <input type="text" class="form-control" (keyup)="applyFilter($event)" width="550px">
  </div>
  <hr>
  <div class="card-bodt">
    <table mat-table  [dataSource]="dataSource" matSort>
               
      <ng-container matColumnDef="nomprenom"> 
          <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef >Nom Prenom</th>
          <td class="td" mat-cell *matCellDef="let element">{{element?.nomprenom}}</td>
      </ng-container>

      <ng-container matColumnDef="matricule"> 
          <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Matricule</th>
          <td class="td" mat-cell *matCellDef="let element">{{element?.matricule}}</td>
      </ng-container>

      <ng-container matColumnDef="categorie"> 
          <th class="th" mat-sort-header  mat-header-cell *matHeaderCellDef>Categorie</th>
          <td class="td" mat-cell *matCellDef="let element">{{element?.categorie}}-{{element?.echelon}}</td>
      </ng-container>


      <ng-container matColumnDef="fonction"> 
          <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Fonction</th>
          <td class="td"  mat-cell *matCellDef="let element">{{element?.fonction}}</td>
      </ng-container>

      <ng-container matColumnDef="emploi"> 
          <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Emploi</th>
          <td class="td" mat-cell *matCellDef="let element">{{element?.emploi}}</td>
      </ng-container>

      <ng-container matColumnDef="unite"> 
          <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Unite</th>
          <td class="td" mat-cell *matCellDef="let element">{{element?.unite}}</td>
      </ng-container>

      <ng-container matColumnDef="statut" > 
          <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Status</th>
          <td class="td" style="min-width: 10rem;" mat-cell *matCellDef="let element" >
              <div class="row">
                  <div class="col"> <spam class="status" [ngClass]="getClass(element?.statut)">{{element?.statut}}</spam></div>
              </div>
          </td>
      </ng-container>

      <ng-container matColumnDef="action"> 
          <th class="th" mat-header-cell *matHeaderCellDef>Action</th>
          <td class="td" mat-cell *matCellDef="let element">
              <div class="flex">
                <button pButton type="button" pTooltip="Fiche" 
                icon="bi bi-file-earmark-person" class="p-button-rounded p-button-warning mx-1" iconPos="left"
                tooltipPosition="top" pRipple (click)="handleViewAction(element)">
              </button>
              <button pButton type="button" pTooltip="Modifier" 
              icon="pi pi-pencil" class="p-button-rounded p-button-primary mx-1" iconPos="left"
              tooltipPosition="top" pRipple (click)="handleEditAction(element)">
              </button>
              </div>
          </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="dispayedColumn;sticky:true"></tr>
      <tr mat-row *matRowDef="let row;columns:dispayedColumn"></tr>
  </table>
  </div>
  <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons ></mat-paginator>
</div>
<!--   <p-dialog header="Formulaire" [(visible)]="addAgent" [modal]="true" [style]="{ width: '800px' }" [draggable]="false" [resizable]="false">
    <div class="container">
      <div class="grid flex-column md:flex-row formgrid  mt-6" style="row-gap: 2rem; column-gap: 2rem;">
        <div class="field col">
          <label class="block text-black-300 font-bold">Nom Prenom</label>
          <input type="text" pinputtext="" id="name" required="" autofocus="" class="w-full p-inputtext p-component p-element ng-pristine ng-invalid ng-touched">
        </div>
        <div class="field col"><label  class="block text-black-300 font-bold">Email Address</label>
          <span class="p-input-icon-left " style="height: 3.5rem;">
            <p-dropdown class="w-full p-component p-element" [options]="genre" [(ngModel)]="selectedGenre" optionLabel="nom"></p-dropdown>
          </span>
        </div>
        <div class="field col"><label  class="block text-black-300 font-bold">Email Address</label>
          <span class="p-input-icon-left w-full" style="height: 3.5rem;">
            <input type="prenom" pinputtext="" id="prenom" required="" autofocus="" class="w-full p-inputtext p-component p-element ng-pristine ng-invalid ng-touched">

        </span>
        </div>
      </div>
      <div _ngcontent-vbs-c57="" class="flex justify-content-between gap-3">
        <button _ngcontent-vbs-c57="" pbutton="" pripple="" label="Discard" icon="pi pi-fw pi-trash"
                class="p-element p-ripple p-button-danger flex-1 p-button-outlined p-button p-component"><span
          class="p-button-icon p-button-icon-left pi pi-fw pi-trash" aria-hidden="true"></span><span
          class="p-button-label">Discard</span><span class="p-ink"></span></button>
        <button _ngcontent-vbs-c57="" pbutton="" pripple="" label="Publish" icon="pi pi-fw pi-check"
                class="p-element p-ripple p-button-primary flex-1 p-button p-component"><span
          class="p-button-icon p-button-icon-left pi pi-fw pi-check" aria-hidden="true"></span><span
          class="p-button-label">Publish</span><span class="p-ink"></span></button>
      </div>
    </div>
  </p-dialog>
 -->