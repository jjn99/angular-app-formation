<p-toolbar>
  <ng-template pTemplate="left">
  </ng-template>
<ng-template pTemplate="right">
<div class="my-2">
 <h4>Liste des agents</h4>
</div>
</ng-template>
</p-toolbar>
    <hr>
    <div class="card-bodt">
      <div class="input-group">
        <label class="input-group-text">Filtrer</label>
        <input type="text" class="form-control" (keyup)="applyFilter($event)" width="550px">
    </div>
        <table mat-table  [dataSource]="dataSource" matSort class="mat-elevation-z8">

          <ng-container matColumnDef="nomprenom">
            <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef >Nom Prenom</th>
            <td class="td" mat-cell *matCellDef="let element">{{element?.nomprenom}}</td>
          </ng-container>

          <ng-container matColumnDef="matricule">
            <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Matricule</th>
            <td class="td" mat-cell *matCellDef="let element">{{element?.matricule}}</td>
          </ng-container>

          <ng-container matColumnDef="categorie">
            <th class="th" mat-sort-header  mat-header-cell *matHeaderCellDef>Categorie</th>
            <td class="td" mat-cell *matCellDef="let element">{{element?.categorie}}-{{element?.echelon}}</td>
          </ng-container>


          <ng-container matColumnDef="fonction">
            <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Fonction</th>
            <td class="td"  mat-cell *matCellDef="let element">{{element?.fonction}}</td>
          </ng-container>

          <ng-container matColumnDef="emploi">
            <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Emploi</th>
            <td class="td" mat-cell *matCellDef="let element">{{element?.emploi}}</td>
          </ng-container>

          <ng-container matColumnDef="unite">
            <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Unite</th>
            <td class="td" mat-cell *matCellDef="let element">{{element?.unite}}</td>
          </ng-container>

          <ng-container matColumnDef="statut" >
        <th class="th" mat-sort-header mat-header-cell *matHeaderCellDef>Status</th>
        <td class="td" style="min-width: 10rem;" mat-cell *matCellDef="let element" >
            <div class="row">
                <div class="col"> <spam class="status" [ngClass]="getClass(element?.statut)">{{element?.statut}}</spam></div>
            </div>
        </td>
    </ng-container>

    <ng-container matColumnDef="action"> 
        <th class="th" mat-header-cell *matHeaderCellDef>Action</th>
        <td class="td" mat-cell *matCellDef="let element">
            <div class="flex">
              <button pButton type="button" pTooltip="Ajouter" 
              icon="pi pi-plus" class="p-button-rounded p-button-success mx-2" iconPos="left"
              tooltipPosition="top" pRipple (click)="addToFormation(element)">
            </button>
            <button pButton type="button" pTooltip="Retirer" 
            icon="pi pi-pencil" class="p-button-rounded p-button-danger mx-2" iconPos="left"
            tooltipPosition="top" pRipple (click)="removeToFormation(element)">
            </button>
            </div>
        </td>
    </ng-container>
            <tr mat-header-row *matHeaderRowDef="dispayedColumn;sticky:true"></tr>
            <tr mat-row *matRowDef="let row;columns:dispayedColumn"></tr>
        </table>
    </div>
    <mat-paginator [pageSizeOptions]="[4]" showFirstLastButtons ></mat-paginator>
    <button class="btn btn btn-danger" matDialogClose> Fermer</button>
